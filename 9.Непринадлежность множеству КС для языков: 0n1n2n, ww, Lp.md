Лемма о накачке для КС-языков
Для любого контекстно-свободного языка L существует константа p > 0 (длина накачки), такая что любую строку s ∈ L длиной не меньше p (|s| ≥ p) можно разбить на пять частей:
s = u v x y z, причем:

|vxy| ≤ p

|vy| ≥ 1 (т.е. v и y не пусты одновременно)

Для всех i ≥ 0 строка u v^i x y^i z ∈ L.

Если для языка L не существует такой константы p, что для всех длинных строк можно найти разбиение, удовлетворяющее условиям, то язык L не является КС.

1. Язык L1 = {0^n 1^n 2^n | n ≥ 0}
Доказательство:

Предположим, что L1 — КС-язык. Тогда для него существует константа накачки p.

Рассмотрим строку s = 0^p 1^p 2^p. Очевидно, s ∈ L1 и |s| = 3p ≥ p.

По лемме, s можно разбить на u v x y z с условиями |vxy| ≤ p и |vy| ≥ 1.

Из-за ограничения |vxy| ≤ p "накачиваемая" часть vxy не может содержать все три символа 0, 1, 2 одновременно. Она может лежать:

Только среди нулей: vxy ∈ {0⁺}.

На стыке нулей и единиц: vxy ∈ {0⁺1⁺}.

Только среди единиц: vxy ∈ {1⁺}.

На стыке единиц и двоек: vxy ∈ {1⁺2⁺}.

Только среди двоек: vxy ∈ {2⁺}.

Рассмотрим накачку (i=2). При увеличении количества символов в v и y мы изменяем количество только одного или двух типов символов, но не всех трех сразу.

Пример: Пусть vxy лежит среди нулей. Тогда при i=2 строка примет вид 0^(p+|vy|) 1^p 2^p. Количество нулей увеличилось, а количество единиц и двоек осталось прежним. Это нарушает условие n_a = n_b = n_c. Строка не принадлежит L1.

Пример: Пусть vxy лежит на стыке 0 и 1 (например, v состоит из нулей, y — из единиц). Тогда при i=2 строка примет вид 0^(p+|v|) 1^(p+|y|) 2^p. Количество двоек осталось p, а количество нулей и единиц увеличилось, но они уже не равны между собой (p+|v| ≠ p+|y|, если только |v|=|y|, что не гарантировано, и даже если равно, то количество двоек все равно не совпадает с ними). Строка не принадлежит L1.

Аналогичное рассуждение для любого другого положения vxy приводит к тому, что при i ≠ 1 (особенно при i=0 или i=2) условие равенства количества всех трех символов нарушается.

Вывод: Мы не можем найти такое разбиение, чтобы при накачке все порождаемые строки оставались в L1. Следовательно, наше предположение неверно, и L1 не является контекстно-свободным языком.

2.WW

1. Выбор слова

Пусть \(p\) — константа из леммы. Рассмотрим слово

\[
s = 0^p 1^p 0^p 1^p
\]

Это слово принадлежит \(L\), так как его можно записать как \(ww\), где \(w = 0^p 1^p\).

---

## 2. Разбиение слова

По лемме, существует разбиение \(s = uvwxy\) такое, что \(|vwx| \le p\) и \(|vx| \ge 1\).  

Так как \(|vwx| \le p\), подстрока \(vwx\) не может охватить более двух блоков подряд. Возможны случаи:

- \(vwx\) полностью внутри одного блока (например, \(0^p\) или \(1^p\))  
- \(vwx\) частично пересекает границу двух блоков

---

## 3. Накачка нарушает форму ww

Рассмотрим \(i = 2\):

\[
s' = uv^2 w x^2 y
\]

- Если \(vwx\) находится в одном блоке 0 или 1, накачка изменит количество символов в первой половине слова, а вторая половина останется прежней. Слово больше не имеет форму \(ww\).  
- Если \(vwx\) пересекает границу блоков, накачка нарушит порядок символов, и слово точно не будет иметь форму \(ww\).

**Во всех случаях \(s' \notin L\).**

---

## 4. Вывод

Так как мы нашли слово \(s \in L\), которое при любом разбиении, допустимом по лемме о накачке, не удовлетворяет свойству накачки для \(i \neq 1\), получаем:

\[
L \text{ не контекстно-свободный.}
\]

3. Lp

## 1. Выбор слова

Пусть \(p\) — константа из леммы. Выбираем простое число \(q \ge p\) и соответствующее слово

\[
s = 1^q \in L_p
\]

Длина слова \(|s| = q \ge p\), так что лемма о накачке применима.

---

## 2. Разбиение слова

По лемме, существует разбиение \(s = uvwxy\), такое что \(|vwx| \le p\) и \(|vx| \ge 1\).

---

## 3. Накачка

Рассмотрим накачку \(i = 2\):

\[
s' = uv^2 w x^2 y
\]

Тогда длина слова становится

\[
|s'| = |s| + |vx| = q + |vx|
\]

- По лемме, \(1 \le |vx| \le p < q\).  
- Следовательно, длина \(s'\) больше \(q\) и **не обязательно простое число**.

Поскольку простых чисел не бывает подряд без конца, для достаточно большого \(q\) число \(q + |vx|\) будет **составным**.  
Это означает, что \(s' \notin L_p\).

---

## 4. Вывод

Мы нашли слово \(s \in L_p\), которое при любом разбиении по лемме о накачке можно «накачать» так, что результат **не принадлежит языку**.  

Следовательно, \(L_p\) **не контекстно-свободный**.